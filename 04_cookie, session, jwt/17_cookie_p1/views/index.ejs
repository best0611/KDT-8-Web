<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <title>Document</title>
  </head>
  <body>
    <div class="modal" tabindex="-1" id="exampleModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">안내</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
              onclick="closed()"
            ></button>
          </div>
          <div class="modal-body">
            <p>
              <b>인터넷익스플로러(IE) 지원 종료 안내</b><br />
              인터넷익스플로러(IE) 서비스 지원이 2022년 6월 15일 종료됨에 따라
              암전하고 원활한 LH 청약센터 이용을 위해 크롬, 사파리, 엣지 등의 웹
              브라우저를 이용해주시기 바랍니다.
            </p>
          </div>
          <div class="modal-footer">
            <input type="checkbox" id="stopShow" />
            <label for="stopShow">오늘 그만보기</label>
          </div>
        </div>
      </div>
    </div>
    <script>
      // 리더님 풀이
      // const modal = new bootstrap.Modal('#exampleModal')
      // console.log('<%= popup %>')
      // if ('<%= popup %>'' === ''){
      //   modal.show()
      // }

      var x = document.cookie;
      if (x == "") {
        $("#exampleModal").show();
      } else {
        $("#exampleModal").hide();
      }

      // function closed(){
      //   if (document.getElementById('stopShow').checked){
      //     axios({
      //       url: '/stopShow',
      //       method: 'POST'
      //     }).then((res) =>{})
      //   }
      // }
      function closed() {
        $("#exampleModal").hide();
        if (document.getElementById("stopShow").checked) {
          axios({
            url: "/stopShow",
            method: "GET",
          }).then((res) => {
            console.log(res);
          });
        }
      }
    </script>
  </body>
</html>
